<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    const data = [
        {
            id: '1',
            label: '1',
            children: [
                {
                    id: '1-1',
                    label: '1-1',
                    children: []
                },
                {
                    id:'1-3',
                    label:'aaa'
                },
                {
                    id: '1-2',
                    label: '1-2',
                    children: [
                        {
                            id: '1-2-1',
                            label: '1-2-1',
                            children: []
                        },
                        {
                            id: '1-2-2',
                            label: '1-2-2',
                            children: []
                        }
                    ]
                }
            ]
        }, {
            id: '2',
            label: '2',
            children: [
                {
                    id: 'aaa',
                    label: 'aaa'
                }
            ]
        },
        {
            id: '3',
            label: '3',
            children: [
                {
                    id: 'aaa2',
                    label: 'aaa'
                }
            ]
        }
    ]

    function searchByLabel(label, data) {
        const datas = []
        for (let i = 0; i < data.length; i++) {
            const item = data[i];
            if (item.label === label) {
                return [item]; // 找到了目标元素，返回它本身
            }
            if (item.children && item.children.length) {
                const result = searchByLabel(label, item.children);
                if (result) {
                    // return [item, ...result]; // 在子元素中找到了目标元素，返回它及其所有父元素
                    datas.push([item, ...result])
                }
            }
        }
        console.log(datas)
        if(datas.length){
            return datas
        }
        return null; // 没有找到目标元素，返回null
    }



    const result = searchByLabel('aaa', data);
    console.log(result); 
</script>

</html>